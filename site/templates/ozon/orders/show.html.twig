{% extends 'base.html.twig' %}

{% block body %}
<h1>Order {{ order.postingNumber }}</h1>
<p>Scheme: {{ order.scheme }} | Status: {{ order.status }} | Status updated: {{ order.statusUpdatedAt|date('Y-m-d H:i') }}</p>
<p>Warehouse: {{ order.warehouseId }} | Delivery: {{ order.deliveryMethodName }} | Payment: {{ order.paymentStatus }}</p>

<h2>Items</h2>
<table class="table">
    <thead><tr><th>SKU</th><th>Offer</th><th>Qty</th><th>Price</th></tr></thead>
    <tbody>
    {% for item in items %}
        <tr>
            <td>{{ item.sku }}</td>
            <td>{{ item.offerId }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.price }}</td>
        </tr>
    {% else %}
        <tr><td colspan="4">No items</td></tr>
    {% endfor %}
    </tbody>
</table>

<h2>Status history</h2>
<ul>
    {% for h in history %}
        <li>{{ h.changedAt|date('Y-m-d H:i') }} â€” {{ h.status }}</li>
    {% else %}
        <li>No history</li>
    {% endfor %}
</ul>

<h2>Raw</h2>
<pre>{{ order.raw|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
{% endblock %}
