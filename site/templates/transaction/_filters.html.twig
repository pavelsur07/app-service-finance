<form method="get" class="card" id="filter-form">
    <div class="card-header d-flex align-items-center justify-content-between cursor-pointer collapsed"
         data-bs-toggle="collapse"
         data-bs-target="#filter-body"
         aria-expanded="false"
         aria-controls="filter-body"
         style="cursor:pointer;">
        <span>Фильтры</span>
        <span class="icon">
            <i class="ti ti-chevron-down"></i>
        </span>
    </div>
    <div id="filter-body" class="collapse">
        <div class="card-body">
            <div class="row g-2">
                <div class="col-md-3">
                    <label class="form-label">Дата с</label>
                    <input type="date" id="filter_date_from" name="dateFrom" value="{{ filters.dateFrom ?? '' }}" class="form-control"/>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Дата по</label>
                    <input type="date" id="filter_date_to" name="dateTo" value="{{ filters.dateTo ?? '' }}" class="form-control"/>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Счет</label>
                    <select name="accountId" class="form-select">
                        <option value="">Все</option>
                        {% for a in accounts %}
                            <option value="{{ a.id }}" {% if filters.accountId == a.id %}selected{% endif %}>{{ a.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Статья ДДС</label>
                    <select name="categoryId" class="form-select">
                        <option value="">Все</option>
                        {% for c in categories %}
                            <option value="{{ c.id }}" {% if filters.categoryId == c.id %}selected{% endif %}>
                                {% if c.level > 1 %}
                                    {% for i in 1..(c.level - 1) %}&nbsp;&nbsp;{% endfor %}
                                {% endif %}
                                {{ c.name }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="row g-2 mt-2">
                <div class="col-md-3">
                    <label class="form-label">Контрагент</label>
                    <select name="counterpartyId" class="form-select">
                        <option value="">Все</option>
                        {% for c in counterparties %}
                            <option value="{{ c.id }}" {% if filters.counterpartyId == c.id %}selected{% endif %}>{{ c.name }}</option>
                        {% endfor %}
                    </select>
                    {# TODO: searchable select #}
                </div>
                <div class="col-md-3">
                    <label class="form-label">Направление</label>
                    <select name="direction" class="form-select">
                        <option value="">Все</option>
                        <option value="INFLOW" {% if filters.direction == 'INFLOW' %}selected{% endif %}>Приток</option>
                        <option value="OUTFLOW" {% if filters.direction == 'OUTFLOW' %}selected{% endif %}>Отток</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Сумма от</label>
                    <input type="number" step="0.01" name="amountMin" value="{{ filters.amountMin ?? '' }}" class="form-control"/>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Сумма до</label>
                    <input type="number" step="0.01" name="amountMax" value="{{ filters.amountMax ?? '' }}" class="form-control"/>
                </div>
            </div>

            <div class="row g-2 mt-2">
                <div class="col-md-6">
                    <label class="form-label">Поиск</label>
                    <input type="text" name="q" value="{{ filters.q ?? '' }}" class="form-control" placeholder="Описание"/>
                </div>
                <div class="col-md-6 d-flex align-items-end justify-content-end gap-2">
                    <div class="btn-group me-auto" role="group">
                        <button type="button" class="btn btn-outline-secondary" data-period="today">Сегодня</button>
                        <button type="button" class="btn btn-outline-secondary" data-period="yesterday">Вчера</button>
                        <button type="button" class="btn btn-outline-secondary" data-period="week">Текущая неделя</button>
                        <button type="button" class="btn btn-outline-secondary" data-period="month">Текущий месяц</button>
                    </div>
                    <button type="submit" class="btn btn-primary">Применить</button>
                    <a href="{{ path('cash_transaction_index') }}" class="btn btn-secondary">Сбросить</a>
                </div>
            </div>
        </div>
    </div>
</form>


