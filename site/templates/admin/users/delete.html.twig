{% extends 'admin/base.html.twig' %}

{% block title %}Admin · Удаление пользователя{% endblock %}

{% block body %}
  <div class="page-header d-print-none">
    <div class="row align-items-center">
      <div class="col">
        <h2 class="page-title">Удаление пользователя</h2>
        <p class="text-muted mb-0">{{ user.email }}</p>
      </div>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <div class="alert alert-warning" role="alert">
        <strong>Внимание:</strong> удаление пользователя приведёт к безвозвратному удалению всех связанных с ним данных
        (компаний, финансовых операций, интеграций и логов).
      </div>

      <form method="post" action="{{ path('admin_user_delete', { id: user.id }) }}">
        <input type="hidden" name="_token" value="{{ csrf_token('admin_user_delete_' ~ user.id) }}">

        <div class="mb-3">
          <label for="confirm-email" class="form-label">Введите email пользователя для подтверждения</label>
          <input
            type="email"
            id="confirm-email"
            name="email"
            required
            class="form-control"
            placeholder="{{ userEmail }}"
            value="{{ enteredEmail }}"
            autocomplete="off"
          >
          <small class="form-hint">Удаление станет доступным только после точного ввода email.</small>
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-danger">Удалить пользователя</button>
          <a href="{{ path('admin_user_index') }}" class="btn btn-outline-secondary">Отмена</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
