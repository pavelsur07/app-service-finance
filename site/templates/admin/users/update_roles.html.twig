{% extends 'admin/base.html.twig' %}

{% block title %}Admin · Изменение роли{% endblock %}

{% block body %}
  <div class="page-header d-print-none">
    <div class="row align-items-center">
      <div class="col">
        <h2 class="page-title">Изменение роли пользователя</h2>
        <p class="text-muted mb-0">{{ user.email }}</p>
      </div>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <form method="post" action="{{ path('admin_user_update_roles', { id: user.id }) }}">
        <input type="hidden" name="_token" value="{{ csrf_token('admin_user_roles_' ~ user.id) }}">

        <div class="mb-3">
          <label for="user-role" class="form-label">Роль</label>
          <select
            id="user-role"
            name="role"
            class="form-select"
            aria-label="Выбор роли для пользователя {{ user.email }}"
          >
            <option value="">— Без особой роли —</option>
            {% for value, label in roleLabels %}
              <option value="{{ value }}" {% if selectedRole is same as(value) %}selected{% endif %}>
                {{ label }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary">Сохранить</button>
          <a href="{{ path('admin_user_index') }}" class="btn btn-outline-secondary">Назад к списку</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
